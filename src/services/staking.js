const _0x413861=_0x4c71;(function(_0x3494a7,_0x2a0ceb){const _0x579fd3=_0x4c71,_0x4868e2=_0x3494a7();while(!![]){try{const _0x57bdd2=parseInt(_0x579fd3(0xcd))/0x1+-parseInt(_0x579fd3(0x110))/0x2*(-parseInt(_0x579fd3(0xd4))/0x3)+-parseInt(_0x579fd3(0xee))/0x4+-parseInt(_0x579fd3(0x133))/0x5+-parseInt(_0x579fd3(0xcb))/0x6*(parseInt(_0x579fd3(0x103))/0x7)+parseInt(_0x579fd3(0x10d))/0x8+parseInt(_0x579fd3(0x117))/0x9;if(_0x57bdd2===_0x2a0ceb)break;else _0x4868e2['push'](_0x4868e2['shift']());}catch(_0x14a1ea){_0x4868e2['push'](_0x4868e2['shift']());}}}(_0x1f52,0x23a72));function _0x4c71(_0x514181,_0x1e475a){const _0x1f52b9=_0x1f52();return _0x4c71=function(_0x4c7199,_0x41d881){_0x4c7199=_0x4c7199-0xc7;let _0x3e8eef=_0x1f52b9[_0x4c7199];return _0x3e8eef;},_0x4c71(_0x514181,_0x1e475a);}function _0x1f52(){const _0x2adaf0=['userAgent','%).\x20Attempting\x20claim...','floor','Failed','Evaluating\x20Auto-Stake','USER_STAKED_INFO',':\x20Could\x20not\x20get\x20specific\x20stake\x20details\x20for\x20subnet\x20','Low\x20Balance\x20for\x20Staking','Exception\x20on\x20claim\x20','596572mGFasD','No\x20subnets\x20available\x20for\x20claiming\x20staking\x20reward.','addDebugMessage','Error\x20User\x20Stakes','\x20active\x20market\x20subnets\x20for\x20user\x27s\x20stake\x20to\x20claim\x20rewards.','\x20(Attempt\x20','\x20GetUserStakedAmount:\x20','autoStakeWithRetries','message','Checking\x20stake\x20in\x20','claimRewardsWithRetries','\x20Succeeded','Error\x20Market\x20Subnets','number','\x20attempt\x20','push','startsWith','[SUCCESS]\x20','\x20subnets.\x20Confirmed\x20successful\x20claims\x20this\x20cycle:\x20','Claim\x20cycle\x20processed\x20','getUserStakedAmount','119LdIUou','Auto-staking\x20evaluation\x20complete.','userStakedInfo','Bearer\x20','_executeCriticalActionWithRetries','data','updateStakedAmount','\x20FetchMarketSubnets:\x20','[ERROR]\x20','address','117696MCyQZz','join','_performSingleClaimCycleAttempt','2SBVpkB','No\x20subnets\x20with\x20info.','current_apr',':\x20Evaluating\x20auto-staking...','status',':\x20Auto-stake\x20to\x20',':\x20Fetched\x20','3033693msnMwh',':\x20Claim\x20attempt\x20for\x20','.\x20Details:\x20','DELEGATE_STAKE','Success\x20','No\x20action/already\x20claimed\x20','\x20failed:\x20','Balance\x20too\x20low.','total_staked_amount','CLAIM_REWARDS','SUBNET_STAKED_INFO','isArray','\x20staked\x20subnets.\x20Confirmed\x20claims:\x20','toLowerCase',':\x20Could\x20not\x20fetch\x20market\x20subnets.\x20Msg:\x20','allMarketSubnets','\x20process\x20complete.\x20','Exception',':\x20Could\x20not\x20get\x20user\x27s\x20staked\x20summary.\x20Msg:\x20','stringify',':\x20Auto-staking\x20loop\x20reached\x20max\x20attempts.\x20Check\x20logs\x20for\x20persistent\x20errors.','includes',':\x20Exception\x20auto-staking\x20to\x20','Failed\x20',',\x20APR\x20','.\x20Skipping.','staked_subnets','success','1128420XKHIND','No\x20active\x20subnets.',':\x20Auto-stake\x20of\x20',':\x20User\x27s\x20total\x20staked\x20amount\x20is\x20','random','autoStakeInHighestAprSubnet','GET','Claiming\x20from\x20','POST','name','my_staked_amount','filter','length',':\x20User\x20has\x20','\x20Fail\x20',':\x20No\x20active\x20subnets\x20and\x20obtainable\x20stake\x20info.','sa_kite','Exception\x20fetching\x20stake\x20for\x20','api','refreshSmartAccountBalance','dashboard','N/A','truncateAddress','.\x20Status:\x20',':\x20Exception\x20fetching\x20specific\x20stake\x20detail\x20for\x20','https://testnet.gokite.ai/','fetch',':\x20Insufficient\x20SA\x20KITE\x20balance\x20(','[INFO]\x20','availableSubnetsForStaking','\x20market\x20subnets.\x20','46416jOByla','Market\x20Subnets\x20Fetched','10805kwtRRl','\x20FAILED\x20(Max\x20Retries)','fetchAvailableMarketSubnets',':\x20No\x20active\x20subnets\x20available\x20for\x20staking.','User\x20Stakes\x20Updated','[WARN]\x20','Auto-Staking','869337tTDOEq','_truncateText',':\x20Status\x20','Auto-Staking\x20to\x20','displayed_name','Staked\x20in\x20',':\x20User\x27s\x20Total\x20Staked:\x20','.\x20Msg:\x20',')\x20for\x20auto-stake.','error','fail','User\x20has\x20no\x20total\x20staked\x20amount\x20recorded\x20or\x20it\x27s\x20zero.','\x20(APR\x20','Sending\x20claim\x20staking\x20reward\x20request...','updateStatus','User\x20has\x20no\x20stake\x20in\x20any\x20of\x20the\x20checked\x20active\x20market\x20subnets\x20or\x20no\x20rewards\x20to\x20claim.','.\x20Skipping\x20claim\x20attempt\x20for\x20it.'];_0x1f52=function(){return _0x2adaf0;};return _0x1f52();}import{API_ENDPOINTS}from'../api/api.js';const GENERAL_MAX_ATTEMPTS=0x5,GENERAL_RETRY_DELAY_MS=0x1e*0x3e8,MIN_SA_BALANCE_FOR_AUTO_STAKE=0x1,AUTO_STAKE_AMOUNT=0x1,DELAY_BETWEEN_STAKING_CLAIMS_SEC_MIN=0x5,DELAY_BETWEEN_STAKING_CLAIMS_SEC_MAX=0xf;async function pureDelay(_0x1fb6c2){return new Promise(_0x4d323b=>setTimeout(_0x4d323b,_0x1fb6c2));}function random(_0x47055d,_0x59038b){const _0x58680c=_0x4c71;return Math[_0x58680c(0xe7)](Math[_0x58680c(0x137)]()*(_0x59038b-_0x47055d+0x1))+_0x47055d;}export class StakingService{constructor(_0x28ff93,_0x435f04){const _0x2ade5d=_0x4c71;this[_0x2ade5d(0x145)]=_0x28ff93,this['dashboard']=_0x435f04,this[_0x2ade5d(0x105)]={'total_staked_amount':0x0,'staked_subnets':[]},this['availableSubnetsForStaking']=[],this[_0x2ade5d(0x126)]=[];}async[_0x413861(0x102)](_0x398376,_0x294120,_0x403b55=!![]){const _0x5d6b86=_0x413861;try{if(_0x403b55)_0x294120[_0x5d6b86(0xe2)]('Getting\x20User\x27s\x20Staked\x20Info');const _0x40e0f9=await this['api'][_0x5d6b86(0x14d)](API_ENDPOINTS[_0x5d6b86(0xea)],_0x5d6b86(0x139),'Bearer\x20'+_0x398376,{},{'Referer':'https://testnet.gokite.ai/'},undefined,_0x294120[_0x5d6b86(0xe5)]);if(_0x40e0f9[_0x5d6b86(0xdd)]||!_0x40e0f9[_0x5d6b86(0x108)]?.[_0x5d6b86(0x108)])this[_0x5d6b86(0x147)][_0x5d6b86(0xf0)](_0x5d6b86(0xd2)+_0x294120['id']+_0x5d6b86(0x129)+(_0x40e0f9['message']||JSON[_0x5d6b86(0x12a)](_0x40e0f9[_0x5d6b86(0x108)]))),this[_0x5d6b86(0x105)]={'total_staked_amount':0x0,'staked_subnets':[]};else{this[_0x5d6b86(0x105)]=_0x40e0f9[_0x5d6b86(0x108)][_0x5d6b86(0x108)];if(!this[_0x5d6b86(0x105)][_0x5d6b86(0x131)])this['userStakedInfo']['staked_subnets']=[];if(_0x403b55)this[_0x5d6b86(0x147)][_0x5d6b86(0xf0)]('[INFO]\x20'+_0x294120['id']+_0x5d6b86(0xda)+(this[_0x5d6b86(0x105)][_0x5d6b86(0x11f)]||_0x5d6b86(0x148))+'.');}_0x294120[_0x5d6b86(0x109)](this[_0x5d6b86(0x105)][_0x5d6b86(0x11f)]);if(_0x403b55)_0x294120[_0x5d6b86(0xe2)](_0x5d6b86(0xd1));return this[_0x5d6b86(0x105)];}catch(_0x378905){this['dashboard'][_0x5d6b86(0xf0)](_0x5d6b86(0x10b)+_0x294120['id']+_0x5d6b86(0xf4)+_0x378905[_0x5d6b86(0xf6)]),_0x294120[_0x5d6b86(0xe2)](_0x5d6b86(0xf1)),this[_0x5d6b86(0x105)]={'total_staked_amount':0x0,'staked_subnets':[]},_0x294120[_0x5d6b86(0x109)](0x0);throw _0x378905;}}async[_0x413861(0xcf)](_0x582d59,_0x22b2b8){const _0x40fb1a=_0x413861;_0x22b2b8[_0x40fb1a(0xe2)]('Fetching\x20Market\x20Subnets');try{const _0x25e11e=await this['api'][_0x40fb1a(0x14d)](API_ENDPOINTS['ALL_MARKET_SUBNETS'],_0x40fb1a(0x139),_0x40fb1a(0x106)+_0x582d59,{},{'Referer':_0x40fb1a(0x14c)},undefined,_0x22b2b8[_0x40fb1a(0xe5)]);_0x25e11e[_0x40fb1a(0xdd)]||!_0x25e11e['data']?.[_0x40fb1a(0x108)]||!Array[_0x40fb1a(0x122)](_0x25e11e[_0x40fb1a(0x108)][_0x40fb1a(0x108)])?(this[_0x40fb1a(0x147)][_0x40fb1a(0xf0)](_0x40fb1a(0xd2)+_0x22b2b8['id']+_0x40fb1a(0x125)+(_0x25e11e['message']||JSON[_0x40fb1a(0x12a)](_0x25e11e[_0x40fb1a(0x108)]))),this[_0x40fb1a(0x126)]=[],this[_0x40fb1a(0xc9)]=[]):(this[_0x40fb1a(0x126)]=_0x25e11e[_0x40fb1a(0x108)][_0x40fb1a(0x108)][_0x40fb1a(0x13e)](_0x345f66=>_0x345f66&&_0x345f66['id']&&_0x345f66['address']),this['availableSubnetsForStaking']=this['allMarketSubnets'][_0x40fb1a(0x13e)](_0x4fa5ff=>typeof _0x4fa5ff[_0x40fb1a(0x112)]===_0x40fb1a(0xfb)&&_0x4fa5ff['current_apr']>0x0),this[_0x40fb1a(0x147)][_0x40fb1a(0xf0)]('[INFO]\x20'+_0x22b2b8['id']+_0x40fb1a(0x116)+this[_0x40fb1a(0x126)][_0x40fb1a(0x13f)]+_0x40fb1a(0xca)+this[_0x40fb1a(0xc9)][_0x40fb1a(0x13f)]+'\x20active\x20for\x20staking.')),_0x22b2b8['updateStatus'](_0x40fb1a(0xcc));}catch(_0xfea785){this[_0x40fb1a(0x147)][_0x40fb1a(0xf0)]('[ERROR]\x20'+_0x22b2b8['id']+_0x40fb1a(0x10a)+_0xfea785[_0x40fb1a(0xf6)]),_0x22b2b8[_0x40fb1a(0xe2)](_0x40fb1a(0xfa)),this[_0x40fb1a(0x126)]=[],this['availableSubnetsForStaking']=[];throw _0xfea785;}}async[_0x413861(0x107)](_0x165e35,_0x5d3d4a,_0x588de1){const _0x4dad5e=_0x413861;for(let _0x4de77f=0x1;_0x4de77f<=GENERAL_MAX_ATTEMPTS;_0x4de77f++){try{_0x588de1[_0x4dad5e(0xe2)](_0x5d3d4a+_0x4dad5e(0xf3)+_0x4de77f+'/'+GENERAL_MAX_ATTEMPTS+')');const _0x2a26e6=await _0x165e35();if(_0x2a26e6&&_0x2a26e6['success'])return this[_0x4dad5e(0x147)][_0x4dad5e(0xf0)](_0x4dad5e(0xff)+_0x588de1['id']+':\x20'+_0x5d3d4a+_0x4dad5e(0x127)+(_0x2a26e6[_0x4dad5e(0xf6)]||'')),_0x588de1[_0x4dad5e(0xe2)](_0x5d3d4a+_0x4dad5e(0xf9)),!![];}catch(_0x5629d0){this['dashboard'][_0x4dad5e(0xf0)](_0x4dad5e(0xd2)+_0x588de1['id']+':\x20'+_0x5d3d4a+_0x4dad5e(0xfc)+_0x4de77f+_0x4dad5e(0x11d)+_0x5629d0[_0x4dad5e(0xf6)]);}_0x4de77f<GENERAL_MAX_ATTEMPTS&&(_0x588de1[_0x4dad5e(0xe2)](_0x5d3d4a+_0x4dad5e(0x141)+_0x4de77f+'.\x20Retry\x20in\x20'+GENERAL_RETRY_DELAY_MS/0x3e8+'s'),await pureDelay(GENERAL_RETRY_DELAY_MS));}return _0x588de1['updateStatus'](_0x5d3d4a+_0x4dad5e(0xce)),![];}async[_0x413861(0x138)](_0x52105f,_0x3e20e4,_0x351652){const _0x6d8e29=_0x413861;this[_0x6d8e29(0x147)][_0x6d8e29(0xf0)](_0x6d8e29(0xc8)+_0x351652['id']+_0x6d8e29(0x113));let _0x5eadab=parseFloat(_0x3e20e4||'0');if(_0x5eadab<MIN_SA_BALANCE_FOR_AUTO_STAKE)return this['dashboard']['addDebugMessage']('[INFO]\x20'+_0x351652['id']+_0x6d8e29(0xc7)+_0x5eadab+_0x6d8e29(0xdc)),_0x351652[_0x6d8e29(0xe2)](_0x6d8e29(0xec)),{'success':!![],'message':_0x6d8e29(0x11e)};if(this[_0x6d8e29(0xc9)][_0x6d8e29(0x13f)]===0x0){await this['fetchAvailableMarketSubnets'](_0x52105f,_0x351652);if(this[_0x6d8e29(0xc9)][_0x6d8e29(0x13f)]===0x0)return this[_0x6d8e29(0x147)][_0x6d8e29(0xf0)](_0x6d8e29(0xc8)+_0x351652['id']+_0x6d8e29(0xd0)),_0x351652[_0x6d8e29(0xe2)]('No\x20Active\x20Subnets\x20for\x20Stake'),{'success':!![],'message':_0x6d8e29(0x134)};}let _0xdfcee=0x0;const _0x22ff1d=0x5;while(_0x5eadab>=AUTO_STAKE_AMOUNT&&_0xdfcee<_0x22ff1d){_0xdfcee++,_0x351652[_0x6d8e29(0xe2)](_0x6d8e29(0xe9));const _0x35ca9c=[];for(const _0x4231ed of this['availableSubnetsForStaking']){try{const _0x3e7d02=await this[_0x6d8e29(0x145)][_0x6d8e29(0x14d)](API_ENDPOINTS[_0x6d8e29(0x121)](_0x4231ed['id']),_0x6d8e29(0x139),_0x6d8e29(0x106)+_0x52105f,{},{'Referer':'https://testnet.gokite.ai/'},undefined,_0x351652[_0x6d8e29(0xe5)]);!_0x3e7d02['error']&&_0x3e7d02[_0x6d8e29(0x108)]?.[_0x6d8e29(0x108)]&&typeof _0x3e7d02[_0x6d8e29(0x108)][_0x6d8e29(0x108)][_0x6d8e29(0x13d)]===_0x6d8e29(0xfb)?_0x35ca9c['push']({..._0x4231ed,'my_staked_amount':_0x3e7d02[_0x6d8e29(0x108)][_0x6d8e29(0x108)][_0x6d8e29(0x13d)]}):this[_0x6d8e29(0x147)][_0x6d8e29(0xf0)](_0x6d8e29(0xd2)+_0x351652['id']+':\x20Could\x20not\x20get\x20stake\x20details\x20for\x20subnet\x20'+_0x4231ed['id']+_0x6d8e29(0x130));}catch(_0x544a36){}}if(_0x35ca9c[_0x6d8e29(0x13f)]===0x0)return this[_0x6d8e29(0x147)]['addDebugMessage'](_0x6d8e29(0xc8)+_0x351652['id']+_0x6d8e29(0x142)),{'success':!![],'message':_0x6d8e29(0x111)};_0x35ca9c['sort']((_0x3b131d,_0x5c910a)=>{const _0x92b7a9=_0x6d8e29;if(_0x3b131d[_0x92b7a9(0x13d)]!==_0x5c910a[_0x92b7a9(0x13d)])return _0x3b131d['my_staked_amount']-_0x5c910a[_0x92b7a9(0x13d)];return _0x5c910a[_0x92b7a9(0x112)]-_0x3b131d['current_apr'];});const _0xa8fa8f=_0x35ca9c[0x0],_0x2b3f21=_0xa8fa8f[_0x6d8e29(0xd8)]||_0xa8fa8f[_0x6d8e29(0x13c)]||this['dashboard'][_0x6d8e29(0x149)](_0xa8fa8f[_0x6d8e29(0x10c)]);_0x351652['updateStatus'](_0x6d8e29(0xd7)+this[_0x6d8e29(0x147)][_0x6d8e29(0xd5)](_0x2b3f21,0xf));try{const _0x31428d=await this[_0x6d8e29(0x145)][_0x6d8e29(0x14d)](API_ENDPOINTS[_0x6d8e29(0x11a)],_0x6d8e29(0x13b),'Bearer\x20'+_0x52105f,{'subnet_address':_0xa8fa8f[_0x6d8e29(0x10c)],'amount':AUTO_STAKE_AMOUNT},{'Referer':_0x6d8e29(0x14c)},undefined,_0x351652[_0x6d8e29(0xe5)]);if(_0x31428d[_0x6d8e29(0xdd)]){this[_0x6d8e29(0x147)][_0x6d8e29(0xf0)](_0x6d8e29(0xd2)+_0x351652['id']+_0x6d8e29(0x115)+_0x2b3f21+'\x20failed.\x20'+_0x31428d[_0x6d8e29(0xf6)]),await pureDelay(GENERAL_RETRY_DELAY_MS/0x2);continue;}else{this[_0x6d8e29(0x147)][_0x6d8e29(0xf0)]('[SUCCESS]\x20'+_0x351652['id']+_0x6d8e29(0x135)+AUTO_STAKE_AMOUNT+'\x20to\x20'+_0x2b3f21+'\x20successful.'),_0x351652[_0x6d8e29(0xe2)](_0x6d8e29(0xd9)+this['dashboard'][_0x6d8e29(0xd5)](_0x2b3f21,0xa));const _0x5115cf=await _0x351652['refreshSmartAccountBalance'](_0x52105f,![]);_0x5eadab=parseFloat(_0x5115cf[_0x6d8e29(0x143)]||'0'),await this[_0x6d8e29(0x102)](_0x52105f,_0x351652,![]);if(_0x5eadab>=AUTO_STAKE_AMOUNT)await pureDelay(random(DELAY_BETWEEN_STAKING_CLAIMS_SEC_MIN,DELAY_BETWEEN_STAKING_CLAIMS_SEC_MAX)*0x3e8);else break;}}catch(_0x47cc9f){this[_0x6d8e29(0x147)]['addDebugMessage'](_0x6d8e29(0x10b)+_0x351652['id']+_0x6d8e29(0x12d)+_0x2b3f21+':\x20'+_0x47cc9f[_0x6d8e29(0xf6)]),await pureDelay(GENERAL_RETRY_DELAY_MS/0x2);continue;}}return _0xdfcee>=_0x22ff1d&&_0x5eadab>=AUTO_STAKE_AMOUNT&&this['dashboard'][_0x6d8e29(0xf0)](_0x6d8e29(0xd2)+_0x351652['id']+_0x6d8e29(0x12b)),{'success':!![],'message':_0x6d8e29(0x104)};}async[_0x413861(0xf5)](_0x2c9f93,_0x38ff27,_0x5ac613){const _0x48bc73=_0x413861;return _0x5ac613['updateStatus']('Auto-Staking\x20(Delegate)'),this[_0x48bc73(0x107)](()=>this[_0x48bc73(0x138)](_0x2c9f93,_0x38ff27,_0x5ac613),_0x48bc73(0xd3),_0x5ac613);}async[_0x413861(0x10f)](_0x5db82c,_0x3a112d){const _0x37a78c=_0x413861;if(!this['userStakedInfo']||typeof this[_0x37a78c(0x105)][_0x37a78c(0x11f)]!=='number'||this[_0x37a78c(0x105)][_0x37a78c(0x11f)]<=0x0)return this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+_0x37a78c(0x136)+(this['userStakedInfo'][_0x37a78c(0x11f)]||_0x37a78c(0x148))+'.\x20Skipping\x20detailed\x20claim\x20check\x20for\x20now.'),{'success':!![],'noActionTaken':!![],'message':_0x37a78c(0xdf)};if(!this[_0x37a78c(0xc9)]||this[_0x37a78c(0xc9)][_0x37a78c(0x13f)]===0x0){this['dashboard'][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+':\x20Active\x20market\x20subnets\x20not\x20found.\x20Refreshing\x20list...'),await this[_0x37a78c(0xcf)](_0x5db82c,_0x3a112d);if(!this[_0x37a78c(0xc9)]||this[_0x37a78c(0xc9)]['length']===0x0)return this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+':\x20Still\x20can\x27t\x20found\x20active\x20market\x20subnets\x20available\x20for\x20claims.'),{'success':!![],'noActionTaken':!![],'message':_0x37a78c(0xef)};}let _0x359695=![],_0x22f97c=![],_0x33c5a2=[],_0x49cb32=0x0;this['dashboard'][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+':\x20Checking\x20'+this[_0x37a78c(0xc9)][_0x37a78c(0x13f)]+_0x37a78c(0xf2));for(const _0x1866d8 of this['availableSubnetsForStaking']){const _0x2c3d23=_0x1866d8[_0x37a78c(0xd8)]||_0x1866d8[_0x37a78c(0x13c)]||this[_0x37a78c(0x147)][_0x37a78c(0x149)](_0x1866d8[_0x37a78c(0x10c)]);_0x3a112d[_0x37a78c(0xe2)](_0x37a78c(0xf7)+this[_0x37a78c(0x147)][_0x37a78c(0xd5)](_0x2c3d23,0xf));let _0x82ef6e=0x0;try{const _0x5c7475=await this[_0x37a78c(0x145)][_0x37a78c(0x14d)](API_ENDPOINTS[_0x37a78c(0x121)](_0x1866d8['id']),_0x37a78c(0x139),'Bearer\x20'+_0x5db82c,{},{'Referer':'https://testnet.gokite.ai/'},undefined,_0x3a112d[_0x37a78c(0xe5)]);if(_0x5c7475[_0x37a78c(0xdd)]||!_0x5c7475[_0x37a78c(0x108)]?.[_0x37a78c(0x108)]||typeof _0x5c7475[_0x37a78c(0x108)][_0x37a78c(0x108)][_0x37a78c(0x13d)]!==_0x37a78c(0xfb)){this['dashboard'][_0x37a78c(0xf0)](_0x37a78c(0xd2)+_0x3a112d['id']+_0x37a78c(0xeb)+_0x2c3d23+'\x20(ID\x20'+_0x1866d8['id']+_0x37a78c(0x12f)+_0x1866d8[_0x37a78c(0x112)]+'%).\x20Msg:\x20'+(_0x5c7475[_0x37a78c(0xf6)]||JSON[_0x37a78c(0x12a)](_0x5c7475[_0x37a78c(0x108)]))+_0x37a78c(0xe4));continue;}_0x82ef6e=_0x5c7475[_0x37a78c(0x108)][_0x37a78c(0x108)][_0x37a78c(0x13d)];}catch(_0x212cb7){this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0x10b)+_0x3a112d['id']+_0x37a78c(0x14b)+_0x2c3d23+_0x37a78c(0xe0)+_0x1866d8[_0x37a78c(0x112)]+'%):\x20'+_0x212cb7['message']),_0x33c5a2[_0x37a78c(0xfd)](_0x37a78c(0x144)+_0x2c3d23+':\x20'+_0x212cb7['message']);continue;}if(_0x82ef6e>0x0){_0x49cb32++,_0x3a112d['updateStatus'](_0x37a78c(0x13a)+this[_0x37a78c(0x147)][_0x37a78c(0xd5)](_0x2c3d23,0xf)+'\x20(Staked:\x20'+_0x82ef6e+')'),this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+_0x37a78c(0x140)+_0x82ef6e+'\x20KITE\x20staked\x20in\x20'+_0x2c3d23+_0x37a78c(0xe0)+_0x1866d8[_0x37a78c(0x112)]+_0x37a78c(0xe6));const _0xc48b07={'subnet_address':_0x1866d8['address']},_0x3e11bf={'Referer':_0x37a78c(0x14c)};try{const _0x58e400=await this[_0x37a78c(0x145)]['fetch'](API_ENDPOINTS[_0x37a78c(0x120)],'POST',_0x37a78c(0x106)+_0x5db82c,_0xc48b07,_0x3e11bf,undefined,_0x3a112d[_0x37a78c(0xe5)]),_0x52032a=_0x58e400[_0x37a78c(0x108)]?.['message']||JSON[_0x37a78c(0x12a)](_0x58e400[_0x37a78c(0x108)]);if(_0x58e400[_0x37a78c(0xdd)])this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xd2)+_0x3a112d['id']+':\x20Claim\x20failed\x20for\x20'+_0x2c3d23+_0x37a78c(0x14a)+_0x58e400[_0x37a78c(0x114)]+_0x37a78c(0xdb)+this['dashboard']['_truncateText'](_0x58e400[_0x37a78c(0xf6)]||_0x52032a,0x3c)),_0x33c5a2['push'](_0x37a78c(0x12e)+_0x2c3d23+_0x37a78c(0xd6)+_0x58e400['status']+',\x20'+_0x58e400[_0x37a78c(0xf6)]),_0x58e400[_0x37a78c(0x114)]!==0x190&&_0x58e400[_0x37a78c(0x114)]!==0x199&&(_0x359695=!![]);else _0x58e400[_0x37a78c(0x108)]?.[_0x37a78c(0x114)]===_0x37a78c(0x132)||_0x52032a[_0x37a78c(0x124)]()[_0x37a78c(0x12c)](_0x37a78c(0x132))&&!_0x52032a[_0x37a78c(0x124)]()['includes'](_0x37a78c(0xde))&&!_0x52032a[_0x37a78c(0x124)]()[_0x37a78c(0x12c)](_0x37a78c(0xdd))?(this[_0x37a78c(0x147)][_0x37a78c(0xf0)]('[SUCCESS]\x20'+_0x3a112d['id']+':\x20Claim\x20successful\x20for\x20'+_0x2c3d23+'.\x20Msg:\x20'+this[_0x37a78c(0x147)][_0x37a78c(0xd5)](_0x52032a,0x3c)),_0x33c5a2[_0x37a78c(0xfd)](_0x37a78c(0x11b)+_0x2c3d23+':\x20'+this[_0x37a78c(0x147)][_0x37a78c(0xd5)](_0x52032a,0x32)),_0x22f97c=!![]):(this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+_0x37a78c(0x118)+_0x2c3d23+_0x37a78c(0xdb)+this['dashboard']['_truncateText'](_0x52032a,0x3c)),_0x33c5a2[_0x37a78c(0xfd)](_0x37a78c(0x11c)+_0x2c3d23+':\x20'+this[_0x37a78c(0x147)][_0x37a78c(0xd5)](_0x52032a,0x32)));}catch(_0x1324a9){this['dashboard'][_0x37a78c(0xf0)](_0x37a78c(0x10b)+_0x3a112d['id']+':\x20Exception\x20during\x20claim\x20for\x20'+_0x2c3d23+':\x20'+_0x1324a9[_0x37a78c(0xf6)]),_0x33c5a2[_0x37a78c(0xfd)](_0x37a78c(0xed)+_0x2c3d23+':\x20'+_0x1324a9[_0x37a78c(0xf6)]),_0x359695=!![];}const _0x1c21ae=this[_0x37a78c(0xc9)]['indexOf'](_0x1866d8);if(_0x1c21ae<this[_0x37a78c(0xc9)][_0x37a78c(0x13f)]-0x1){const _0x15d71a=random(DELAY_BETWEEN_STAKING_CLAIMS_SEC_MIN,DELAY_BETWEEN_STAKING_CLAIMS_SEC_MAX);_0x3a112d[_0x37a78c(0xe2)](_0x37a78c(0xe1)),await pureDelay(_0x15d71a*0x3e8);}}}await _0x3a112d[_0x37a78c(0x146)](_0x5db82c,![]),await this[_0x37a78c(0x102)](_0x5db82c,_0x3a112d,![]);if(_0x49cb32===0x0&&!_0x359695)return this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+':\x20Claim\x20cycle:\x20User\x20has\x20no\x20stake\x20in\x20any\x20of\x20the\x20checked\x20market\x20subnets,\x20or\x20no\x20rewards\x20were\x20claimable\x20from\x20them.'),{'success':!![],'noActionTaken':!![],'message':_0x37a78c(0xe3)};if(_0x359695)throw new Error('Claim\x20cycle\x20had\x20hard\x20failures.\x20Details:\x20'+_0x33c5a2[_0x37a78c(0x13e)](_0x49a8c3=>_0x49a8c3[_0x37a78c(0xfe)](_0x37a78c(0xe8))||_0x49a8c3['startsWith'](_0x37a78c(0x128)))[_0x37a78c(0x10e)](';\x20'));return this[_0x37a78c(0x147)][_0x37a78c(0xf0)](_0x37a78c(0xc8)+_0x3a112d['id']+':\x20Claim\x20cycle\x20processed.\x20Found\x20stake\x20in\x20'+_0x49cb32+_0x37a78c(0x100)+_0x22f97c+_0x37a78c(0x119)+_0x33c5a2[_0x37a78c(0x10e)](';\x20')),{'success':!![],'anyClaimMade':_0x22f97c,'message':_0x37a78c(0x101)+_0x49cb32+_0x37a78c(0x123)+_0x22f97c+'.'};}async[_0x413861(0xf8)](_0x20dd31,_0x1ba19d){const _0x398f7f=_0x413861;return _0x1ba19d['updateStatus']('Claiming\x20Rewards'),this[_0x398f7f(0x107)](()=>this['_performSingleClaimCycleAttempt'](_0x20dd31,_0x1ba19d),'Claiming\x20Rewards',_0x1ba19d);}}