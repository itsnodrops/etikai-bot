const _0x270c74=_0x38a3;(function(_0x4e60e5,_0x2d7509){const _0x47fb98=_0x38a3,_0x4d7a2f=_0x4e60e5();while(!![]){try{const _0x501684=-parseInt(_0x47fb98(0x1ce))/0x1+parseInt(_0x47fb98(0x176))/0x2*(parseInt(_0x47fb98(0x14b))/0x3)+parseInt(_0x47fb98(0x18a))/0x4*(parseInt(_0x47fb98(0x1c3))/0x5)+-parseInt(_0x47fb98(0x163))/0x6*(-parseInt(_0x47fb98(0x16a))/0x7)+-parseInt(_0x47fb98(0x194))/0x8+-parseInt(_0x47fb98(0x19e))/0x9*(-parseInt(_0x47fb98(0x1a9))/0xa)+parseInt(_0x47fb98(0x1a8))/0xb*(parseInt(_0x47fb98(0x1bd))/0xc);if(_0x501684===_0x2d7509)break;else _0x4d7a2f['push'](_0x4d7a2f['shift']());}catch(_0x2e8b54){_0x4d7a2f['push'](_0x4d7a2f['shift']());}}}(_0x23ad,0xbea98));function _0x38a3(_0x539e89,_0x284ca9){const _0x23ad85=_0x23ad();return _0x38a3=function(_0x38a3c0,_0x320734){_0x38a3c0=_0x38a3c0-0x142;let _0x4010a0=_0x23ad85[_0x38a3c0];return _0x4010a0;},_0x38a3(_0x539e89,_0x284ca9);}import _0x1dd3eb from'axios';import{ethers as _0x452b40}from'ethers';import{Config as _0x3f8d38}from'../../config.js';import{API_ENDPOINTS as _0x35d831}from'../core/api.js';import{NETWORKS as _0x275cf0}from'../core/network.js';import _0x4d559e from'moment-timezone';let GENERAL_MAX_ATTEMPTS=0x3,CHAT_TIMEOUT_MS=0x493e0,AGENT_OVERLOAD_MESSAGE='error:\x20Failed\x20to\x20stream\x20response:\x20Model\x20is\x20overloaded',AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX=_0x270c74(0x1b8),SHERLOCK_AGENT_NAME=_0x270c74(0x191),FALLBACK_QUESTIONS=['Tell\x20me\x20about\x20yourself.',_0x270c74(0x19b),'Can\x20you\x20give\x20me\x20a\x20random\x20interesting\x20fact?',_0x270c74(0x1b6)],MIN_CHATS_PER_AGENT_SESSION=0xa,MAX_CHATS_PER_AGENT_SESSION=0xf,DELAY_BETWEEN_CHAT_INTERACTIONS_MIN_SEC=0x2d,DELAY_BETWEEN_CHAT_INTERACTIONS_MAX_SEC=0x41,DELAY_BETWEEN_AGENT_SESSIONS_SEC=0xf;function random(_0x51b35b,_0x3dd7cf){const _0x3dbd13=_0x270c74;return Math['floor'](Math[_0x3dbd13(0x18f)]()*(_0x3dd7cf-_0x51b35b+0x1))+_0x51b35b;}function shuffleArray(_0x5965fc){const _0x96dac8=_0x270c74;for(let _0x913593=_0x5965fc[_0x96dac8(0x1d2)]-0x1;_0x913593>0x0;_0x913593--){let _0x51c7a8=Math[_0x96dac8(0x15c)](Math[_0x96dac8(0x18f)]()*(_0x913593+0x1));[_0x5965fc[_0x913593],_0x5965fc[_0x51c7a8]]=[_0x5965fc[_0x51c7a8],_0x5965fc[_0x913593]];}return _0x5965fc;}function randomFromArray(_0x2a8c65){const _0x56ad8f=_0x270c74;if(Array['isArray'](_0x2a8c65)&&0x0!==_0x2a8c65['length'])return _0x2a8c65[Math[_0x56ad8f(0x15c)](Math[_0x56ad8f(0x18f)]()*_0x2a8c65[_0x56ad8f(0x1d2)])];}function _0x23ad(){const _0x457684=['updateStatus','slice','[ERROR]\x20GetAvailableAgents\x20failed\x20after\x20all\x20retries.','pop','data','653200SxOOfH','deployment','INTERNAL_STREAM_EMPTY_DUE_TO_OVERLOAD','\x20TX\x20hashes\x20from\x20block\x20','length','What\x20do\x20you\x20think\x20of\x20this\x20transaction?\x200x252c02bded9a24426219248c9c1b065b752d3cf8bedf4902ed62245ab950895b','api','[ERROR]\x20ChatService\x20(Sherlock):\x20Failed\x20to\x20init\x20ETH\x20provider.\x20','post','toLowerCase','eoaAddress','[ERROR]\x20Failed\x20chat\x20with\x20',':AgentSpecificErrorSkip','name','message','...','getRandomTransactionHashForSherlock','3VhSoWi','agents','data:','MAX_CHATS','POST','Preferred\x20agents\x20not\x20active','some','[ERROR]\x20Chat\x20','Active','[WARN]\x20ChatService\x20(Sherlock):\x20No\x20TX\x20hashes\x20in\x20cache.','replace','content','NAME','\x20successful.','\x20failed\x20with\x20status\x20','stream','names','floor','size','userAgent','addDebugMessage','[INFO]\x20Beginning\x20','trim','isArray','6uQRJCv','split','\x20issue.\x20Signaling\x20skip.','[INFO]\x20Sending\x20chat\x20to\x20','Chat\x20with\x20','Agent\x20Configs\x20Fetched','[INFO]\x20Delaying\x2015s\x20before\x20next\x20agent\x20session...','1413615pEDTCK','JsonRpcProvider','txHashesCache','.\x20Signaling\x20skip.','[SUCCESS]\x20Finished\x20session\x20with\x20','transactions','flatMap','No\x20textual\x20response\x20received.','prefetchedTransactions','[SUCCESS]\x20Chat\x20with\x20','Room','txFetcherProvider','1352790JDrsSm','response','...\x22','utf8','groqService','RPC_URL','map','Skipping\x20Chat\x20w/\x20','Waiting\x20for\x20the\x20next\x20chat...','fetchLatestTransactionHashesForSherlock','fetch','[INFO]\x20Agent\x20','[INFO]\x20ChatService\x20(Sherlock):\x20Cached\x20','\x20returned\x20','string','choices','Could\x20not\x20fetch\x20agent\x20list.\x20Msg:\x20','BASE_SEPOLIA','[WARN]\x20Agent\x20','MIN_CHATS','4FIAIaT','[INFO]\x20Found\x20active\x20preferred\x20agent\x20\x27','[SUCCESS]\x20Agent\x20config\x20scan\x20complete.\x20Found\x20','status','format','random','Interaction\x20Error:\x20','Sherlock','PREFERRED_AGENTS','has','8702864tbIhmJ','Fetching\x20Agents..','\x27\x20in\x20subnet\x20\x27','\x20with\x20','[WARN]\x20No\x20PREFERRED_AGENTS.\x20Skipping\x20chats.',':MaxRetriesGeneral','text/event-stream','What\x20are\x20the\x20core\x20principles\x20of\x20Web3?','dashboard','reply','99iXClFd','set','toString','INTERNAL_OVERLOAD_AS_RESPONSE_CONTENT','agentNameToDeploymentIdMap','filter','/3):\x20','startsWith','service_id','Unknown\x20chat\x20error','253CfwmKH','1150040qAOZBJ','_truncateText','application/json','[ERROR]\x20ChatService\x20(Sherlock):\x20Ethereum\x20provider\x20not\x20initialized.','SUBMIT_RECEIPT','error','getRandomQuestion','get','addChatLog','end','Bearer\x20','displayed_name','clear','What\x20is\x20a\x20common\x20misconception\x20about\x20AI?','[WARN]\x20GetAvailableAgents\x20attempt\x20','AGENT\x20UNAVAILABLE','parse','[INFO]\x20ChatService\x20(Sherlock):\x20Fetching\x20latest\x20TXs\x20from\x20','text/plain','_adaptedChatWithAI','24612wzAprz','getBlock','MMDD','getBlockNumber','[WARN]\x20None\x20of\x20PREFERRED_AGENTS\x20active/found.\x20Skipping\x20chats.','All\x20Agent\x20Chat\x20Sessions\x20Done','1657265ZBXUNz','delta','\x20(try\x20','subnet','\x20preferred\x20agent(s).','AGENT_INFERENCE'];_0x23ad=function(){return _0x457684;};return _0x23ad();}async function pureDelay(_0x78a746){return new Promise(_0x4f9181=>setTimeout(_0x4f9181,_0x78a746));}export class ChatService{constructor(_0x40152e,_0x59d675,_0xd98f8a){const _0x15536c=_0x270c74;this['api']=_0x40152e,this[_0x15536c(0x19c)]=_0x59d675,this[_0x15536c(0x17a)]=_0xd98f8a,this[_0x15536c(0x1a2)]=new Map(),this[_0x15536c(0x175)]=null,this['txHashesCache']=[];try{this[_0x15536c(0x175)]=new _0x452b40[(_0x15536c(0x16b))](_0x275cf0[_0x15536c(0x187)][_0x15536c(0x17b)]);}catch(_0x1cce82){this['dashboard']?.['addDebugMessage'](_0x15536c(0x1d5)+_0x1cce82[_0x15536c(0x148)]);}}async[_0x270c74(0x17f)](){const _0x5a3db3=_0x270c74;if(!this[_0x5a3db3(0x175)]){this[_0x5a3db3(0x19c)]?.[_0x5a3db3(0x15f)](_0x5a3db3(0x1ac)),this[_0x5a3db3(0x16c)]=[];return;}this[_0x5a3db3(0x19c)]?.[_0x5a3db3(0x15f)](_0x5a3db3(0x1ba)+_0x275cf0[_0x5a3db3(0x187)][_0x5a3db3(0x157)]+'...');try{let _0x131026=await this[_0x5a3db3(0x175)][_0x5a3db3(0x1c0)](),_0x41d95c=await this[_0x5a3db3(0x175)][_0x5a3db3(0x1be)](_0x131026,!0x0);_0x41d95c&&_0x41d95c[_0x5a3db3(0x16f)]&&_0x41d95c[_0x5a3db3(0x16f)]['length']>0x0?(this['txHashesCache']=(_0x41d95c[_0x5a3db3(0x172)]||[])[_0x5a3db3(0x17c)](_0x469ad6=>_0x469ad6['hash']),this[_0x5a3db3(0x19c)]?.['addDebugMessage'](_0x5a3db3(0x182)+this[_0x5a3db3(0x16c)][_0x5a3db3(0x1d2)]+_0x5a3db3(0x1d1)+_0x131026+'.')):(this[_0x5a3db3(0x19c)]?.[_0x5a3db3(0x15f)]('[INFO]\x20ChatService\x20(Sherlock):\x20No\x20TXs\x20in\x20latest\x20block\x20'+_0x131026+'.'),this[_0x5a3db3(0x16c)]=[]);}catch(_0x3a8ec6){this[_0x5a3db3(0x19c)]?.[_0x5a3db3(0x15f)]('[ERROR]\x20ChatService\x20(Sherlock):\x20Error\x20fetching\x20TX\x20hashes:\x20'+_0x3a8ec6[_0x5a3db3(0x148)]),this[_0x5a3db3(0x16c)]=[];}}async[_0x270c74(0x14a)](){const _0x359418=_0x270c74;return 0x0===this[_0x359418(0x16c)]['length']?(this[_0x359418(0x19c)]?.[_0x359418(0x15f)](_0x359418(0x154)),null):randomFromArray(this[_0x359418(0x16c)]);}async['getAvailableAgents'](_0x43fb9e,_0x244767){const _0x49e0be=_0x270c74;let _0x533412=[0xea60,0x15f90,0x1d4c0];for(let _0x2c7306=0x0;_0x2c7306<_0x533412[_0x49e0be(0x1d2)];_0x2c7306++)try{_0x244767[_0x49e0be(0x1c9)](_0x49e0be(0x195));let _0xc8e37d=await this[_0x49e0be(0x1d4)][_0x49e0be(0x180)](_0x35d831['SUBNET_AGENTS'],'GET',_0x49e0be(0x1b3)+_0x43fb9e,{},{},_0x533412[_0x2c7306],_0x244767['userAgent']);if(this[_0x49e0be(0x1a2)][_0x49e0be(0x1b5)](),_0xc8e37d['error']||!_0xc8e37d[_0x49e0be(0x1cd)]?.[_0x49e0be(0x1cd)])throw Error(_0x49e0be(0x186)+(_0xc8e37d[_0x49e0be(0x148)]||JSON['stringify'](_0xc8e37d[_0x49e0be(0x1cd)])));let _0x2a2e73=_0x3f8d38[_0x49e0be(0x192)][_0x49e0be(0x170)](_0x1b9a50=>_0x1b9a50[_0x49e0be(0x15b)][_0x49e0be(0x17c)](_0x2cd8db=>({'subnet':_0x1b9a50['subnet'],'name':_0x2cd8db})));for(let _0x5092fc of _0xc8e37d[_0x49e0be(0x1cd)][_0x49e0be(0x1cd)]){let _0x58a31b=_0x5092fc?.[_0x49e0be(0x1b4)];if(Array[_0x49e0be(0x162)](_0x5092fc[_0x49e0be(0x14c)])){for(let _0x1ae8a9 of _0x5092fc[_0x49e0be(0x14c)])if(_0x1ae8a9?.['status']==='On'&&Array[_0x49e0be(0x162)](_0x1ae8a9[_0x49e0be(0x1cf)])&&_0x1ae8a9[_0x49e0be(0x1cf)][_0x49e0be(0x1d2)]>0x0){let _0xea0b5d=_0x1ae8a9[_0x49e0be(0x1cf)][0x0];if(_0xea0b5d?.[_0x49e0be(0x18d)]===_0x49e0be(0x153)&&_0xea0b5d['id']&&_0x1ae8a9[_0x49e0be(0x1b4)]){let _0xe52b35=_0x1ae8a9[_0x49e0be(0x1b4)],_0x1ca68f=_0x2a2e73[_0x49e0be(0x151)](_0x450565=>_0x450565[_0x49e0be(0x147)][_0x49e0be(0x143)]()===_0xe52b35[_0x49e0be(0x143)]()&&_0x450565['subnet']['toLowerCase']()===_0x58a31b[_0x49e0be(0x143)]());_0x1ca68f&&!this[_0x49e0be(0x1a2)][_0x49e0be(0x193)](_0xe52b35)&&(this['agentNameToDeploymentIdMap'][_0x49e0be(0x19f)](_0xe52b35,{'id':_0xea0b5d['id'],'subnet':_0x5092fc['name']}),this[_0x49e0be(0x19c)][_0x49e0be(0x15f)](_0x49e0be(0x18b)+_0xe52b35+_0x49e0be(0x196)+_0x58a31b+'\x27.'));}}}}this[_0x49e0be(0x19c)]['addDebugMessage'](_0x49e0be(0x18c)+this[_0x49e0be(0x1a2)][_0x49e0be(0x15d)]+_0x49e0be(0x1c7)),_0x244767[_0x49e0be(0x1c9)](_0x49e0be(0x168));return;}catch(_0x133bd0){if(this[_0x49e0be(0x19c)]['addDebugMessage'](_0x49e0be(0x1b7)+(_0x2c7306+0x1)+'\x20failed:\x20'+_0x133bd0[_0x49e0be(0x148)]),_0x2c7306<_0x533412[_0x49e0be(0x1d2)]-0x1)await pureDelay(0x1388);else throw this[_0x49e0be(0x19c)]['addDebugMessage'](_0x49e0be(0x1cb)),_0x244767[_0x49e0be(0x1c9)]('Error\x20Getting\x20Agents'),_0x133bd0;}}async[_0x270c74(0x1bc)](_0x2180d4,_0x1b6842,_0x48acb3,_0x2dffc4,_0x2f32f3,_0x28150a,_0x39a4fa=0x0){const _0x3d4bc3=_0x270c74;let _0x3cf9e3=_0x48acb3||_0x2180d4[_0x3d4bc3(0x1ca)](0x0,0xa)+_0x3d4bc3(0x149);0x0===_0x39a4fa&&this['dashboard'][_0x3d4bc3(0x15f)](_0x3d4bc3(0x166)+_0x3cf9e3+':\x20\x22'+this[_0x3d4bc3(0x19c)]['_truncateText'](_0x2dffc4,0x14)+_0x3d4bc3(0x178));try{if('aiveronica'===_0x1b6842){let _0x419d0f=_0x4d559e(),_0x514548={'service_id':_0x2180d4,'subnet':_0x1b6842,'stream':!0x1,'body':{'roomId':_0x48acb3+_0x3d4bc3(0x174),'userId':_0x28150a[_0x3d4bc3(0x144)],'username':_0x28150a['user']?.['profile']?.['username']||_0x28150a['eoaAddress'],'message':_0x2dffc4,'timeDiff':0x0,'date':_0x419d0f[_0x3d4bc3(0x18e)](_0x3d4bc3(0x1bf))}},_0x43866d=await this[_0x3d4bc3(0x1d4)][_0x3d4bc3(0x180)](_0x35d831[_0x3d4bc3(0x1c8)],_0x3d4bc3(0x14f),'Bearer\x20'+_0x2f32f3,_0x514548,{'Referer':'https://testnet.gokite.ai/'},0x493e0,_0x28150a[_0x3d4bc3(0x15e)]);if(_0x43866d['error']||_0x43866d[_0x3d4bc3(0x1cd)]&&_0x3d4bc3(0x184)!=typeof _0x43866d['data'][_0x3d4bc3(0x19d)]){if(0x1ad===_0x43866d[_0x3d4bc3(0x18d)]||0x191===_0x43866d[_0x3d4bc3(0x18d)]||0x1f8===_0x43866d[_0x3d4bc3(0x18d)])throw this['dashboard']['addDebugMessage']('[WARN]\x20Agent\x20'+_0x3cf9e3+_0x3d4bc3(0x183)+_0x43866d[_0x3d4bc3(0x18d)]+_0x3d4bc3(0x16d)),Error(AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX+'\x20'+_0x3cf9e3+_0x3d4bc3(0x146));throw Error(_0x3d4bc3(0x167)+_0x3cf9e3+_0x3d4bc3(0x159)+_0x43866d[_0x3d4bc3(0x18d)]+':\x20'+(_0x43866d[_0x3d4bc3(0x148)]||'No\x20data\x20or\x20invalid\x20reply\x20format'));}let _0x5b0368=_0x43866d['data']['reply'];return this[_0x3d4bc3(0x19c)][_0x3d4bc3(0x15f)](_0x3d4bc3(0x173)+_0x3cf9e3+_0x3d4bc3(0x158)),_0x5b0368['trim']();}let _0x2a363e={'headers':{'Accept':_0x3d4bc3(0x19a),'Content-Type':_0x3d4bc3(0x1ab),'Authorization':_0x3d4bc3(0x1b3)+_0x2f32f3,'User-Agent':_0x28150a[_0x3d4bc3(0x15e)]},'responseType':_0x3d4bc3(0x15a),'timeout':0x493e0},_0x1b5ffc=await _0x1dd3eb[_0x3d4bc3(0x142)](_0x35d831[_0x3d4bc3(0x1c8)],{'service_id':_0x2180d4,'subnet':_0x1b6842,'stream':!0x0,'body':{'stream':!0x0,'message':_0x2dffc4}},_0x2a363e),_0x7702e5='',_0x414c84='',_0x5dbd66=!0x1,_0x5a7468=!0x1;if(_0x28150a[_0x3d4bc3(0x1c9)]('Chatting\x20with\x20'+_0x3cf9e3+'\x20(streaming...)'),await new Promise((_0x3bdc24,_0x59be85)=>{const _0x15a5b8=_0x3d4bc3;_0x1b5ffc[_0x15a5b8(0x1cd)]['on'](_0x15a5b8(0x1cd),_0x26938d=>{const _0x1bdf0e=_0x15a5b8;let _0x2ae89f=_0x26938d[_0x1bdf0e(0x1a0)](_0x1bdf0e(0x179));_0x414c84+=_0x2ae89f,_0x2ae89f['includes'](AGENT_OVERLOAD_MESSAGE)&&(_0x5dbd66=!0x0);let _0x42596b=_0x414c84[_0x1bdf0e(0x164)](/\r?\n\r?\n/);for(let _0x428d69 of(_0x414c84=_0x42596b[_0x1bdf0e(0x1cc)]()||'',_0x42596b)){if(!_0x428d69['startsWith'](_0x1bdf0e(0x14d)))continue;let _0x263478=_0x428d69[_0x1bdf0e(0x155)](/^data:\s*/,'')[_0x1bdf0e(0x161)]();if('[DONE]'!==_0x263478)try{let _0x4a18ee=JSON[_0x1bdf0e(0x1b9)](_0x263478);_0x4a18ee[_0x1bdf0e(0x185)]?.[0x0]?.[_0x1bdf0e(0x1c4)]?.[_0x1bdf0e(0x156)]&&(_0x7702e5+=_0x4a18ee[_0x1bdf0e(0x185)][0x0][_0x1bdf0e(0x1c4)][_0x1bdf0e(0x156)]);}catch(_0x3096e1){}}}),_0x1b5ffc['data']['on'](_0x15a5b8(0x1b2),()=>{const _0x3327bb=_0x15a5b8;_0x5a7468=!0x0,_0x5dbd66&&''===_0x7702e5[_0x3327bb(0x161)]()?_0x59be85(Error('INTERNAL_STREAM_EMPTY_DUE_TO_OVERLOAD')):_0x3bdc24();}),_0x1b5ffc[_0x15a5b8(0x1cd)]['on'](_0x15a5b8(0x1ae),_0xed05b7=>_0x59be85(_0xed05b7));}),_0x5a7468&&_0x7702e5[_0x3d4bc3(0x161)]()===AGENT_OVERLOAD_MESSAGE)throw Error(_0x3d4bc3(0x1a1));return 0x0!==_0x39a4fa||_0x5dbd66||this[_0x3d4bc3(0x19c)]['addDebugMessage']('[SUCCESS]\x20Chat\x20with\x20'+_0x3cf9e3+'\x20successful.'),await pureDelay(0x1f4),_0x7702e5[_0x3d4bc3(0x161)]()||_0x3d4bc3(0x171);}catch(_0x400f30){let _0x2ffa86=_0x400f30[_0x3d4bc3(0x177)]?.[_0x3d4bc3(0x18d)],_0x526212=_0x400f30[_0x3d4bc3(0x148)]||_0x3d4bc3(0x1a7);if(_0x400f30[_0x3d4bc3(0x148)]['startsWith'](AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX)||_0x3d4bc3(0x1d0)===_0x400f30['message']||_0x3d4bc3(0x1a1)===_0x400f30['message']||0x1f8===_0x2ffa86||0x1a6===_0x2ffa86||0x1ba===_0x2ffa86||0x1ad===_0x2ffa86)throw this[_0x3d4bc3(0x19c)]['addDebugMessage'](_0x3d4bc3(0x188)+_0x3cf9e3+_0x3d4bc3(0x165)),Error(AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX+'\x20'+_0x3cf9e3+_0x3d4bc3(0x146));if(this['dashboard']['addDebugMessage'](_0x3d4bc3(0x145)+_0x3cf9e3+_0x3d4bc3(0x1c5)+(_0x39a4fa+0x1)+_0x3d4bc3(0x1a4)+this['dashboard'][_0x3d4bc3(0x1aa)](_0x526212,0x46)),_0x39a4fa<0x2)return await pureDelay(0x2710*(_0x39a4fa+0x1)),this[_0x3d4bc3(0x1bc)](_0x2180d4,_0x1b6842,_0x48acb3,_0x2dffc4,_0x2f32f3,_0x28150a,_0x39a4fa+0x1);throw Error(AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX+'\x20'+_0x3cf9e3+_0x3d4bc3(0x199));}}async['performMultipleChatInteractions'](_0x2ebca9,_0x2837dd,_0x477a06){const _0x687be7=_0x270c74;if(0x0===_0x3f8d38['PREFERRED_AGENTS'][_0x687be7(0x1d2)]){this['dashboard'][_0x687be7(0x15f)](_0x687be7(0x198)),_0x477a06['updateStatus']('No\x20preferred\x20agents\x20for\x20chat');return;}let _0x55c3fa=_0x3f8d38[_0x687be7(0x192)][_0x687be7(0x170)](_0xe36b0=>_0xe36b0[_0x687be7(0x15b)][_0x687be7(0x17c)](_0x37f647=>({'subnet':_0xe36b0['subnet'],'name':_0x37f647})))[_0x687be7(0x1a3)](_0x3d8f93=>this[_0x687be7(0x1a2)][_0x687be7(0x193)](_0x3d8f93['name']))['map'](_0x198ee8=>{const _0x35ab4c=_0x687be7;let _0x4f43a7=this['agentNameToDeploymentIdMap'][_0x35ab4c(0x1b0)](_0x198ee8[_0x35ab4c(0x147)]);return{'name':_0x198ee8['name'],'service_id':_0x4f43a7['id'],'subnet':_0x4f43a7[_0x35ab4c(0x1c6)]};});if(0x0===_0x55c3fa[_0x687be7(0x1d2)]){this['dashboard']['addDebugMessage'](_0x687be7(0x1c1)),_0x477a06[_0x687be7(0x1c9)](_0x687be7(0x150));return;}_0x55c3fa=shuffleArray([..._0x55c3fa]);let _0x1538b6=!0x0;for(let _0x46215a of _0x55c3fa){_0x1538b6||(this[_0x687be7(0x19c)]['addDebugMessage'](_0x687be7(0x169)),await pureDelay(0x3a98)),_0x1538b6=!0x1;let _0xb5183f=_0x46215a[_0x687be7(0x147)],_0xc3b0a5=_0x46215a[_0x687be7(0x1a6)],_0x106188=_0x46215a['subnet'],_0x2a02cf=_0x3f8d38[_0x687be7(0x189)]||0xa,_0x463a97=_0x3f8d38[_0x687be7(0x14e)]||0xf,_0x5bc842=random(_0x2a02cf,_0x463a97);this[_0x687be7(0x19c)][_0x687be7(0x15f)](_0x687be7(0x160)+_0x5bc842+'\x20chats\x20with\x20'+_0xb5183f+'.'),_0xb5183f===SHERLOCK_AGENT_NAME&&await this[_0x687be7(0x17f)]();for(let _0x13eeef=0x0;_0x13eeef<_0x5bc842;_0x13eeef++){_0x477a06[_0x687be7(0x1c9)]('Chat\x20'+(_0x13eeef+0x1)+'/'+_0x5bc842+_0x687be7(0x197)+_0xb5183f);let _0x38e3f2;'aiveronica'===_0x106188?_0x38e3f2=await this[_0x687be7(0x17a)]['getRandomWaifuQuestion']():_0xb5183f===SHERLOCK_AGENT_NAME?_0x38e3f2=(_0x38e3f2=await this[_0x687be7(0x14a)]())?''+_0x38e3f2:_0x687be7(0x1d3):(_0x38e3f2=await this[_0x687be7(0x17a)][_0x687be7(0x1af)]())||(_0x38e3f2=randomFromArray(FALLBACK_QUESTIONS)||'What\x20is\x20new?');try{let _0x28daa0=await this[_0x687be7(0x1bc)](_0xc3b0a5,_0x106188,_0xb5183f,_0x38e3f2,_0x2ebca9,_0x477a06);this[_0x687be7(0x19c)][_0x687be7(0x1b1)](_0x38e3f2,_0x28daa0);let _0x8cb7ef={'address':_0x2837dd?.['profile']?.['smart_account_address']||_0x477a06['eoaAddress'],'service_id':_0xc3b0a5,'input':[{'type':'text/plain','value':_0x38e3f2}],'output':[{'type':_0x687be7(0x1bb),'value':_0x28daa0}]};await this[_0x687be7(0x1d4)][_0x687be7(0x180)](_0x35d831[_0x687be7(0x1ad)],_0x687be7(0x14f),_0x687be7(0x1b3)+_0x2ebca9,_0x8cb7ef,{},void 0x0,_0x477a06[_0x687be7(0x15e)]);}catch(_0x13be4){if(_0x13be4[_0x687be7(0x148)][_0x687be7(0x1a5)](AGENT_UNAVAILABLE_SKIP_ERROR_PREFIX)){this['dashboard'][_0x687be7(0x15f)](_0x687be7(0x181)+_0xb5183f+'\x20signaled\x20skip.\x20Moving\x20to\x20next\x20agent.'),_0x477a06[_0x687be7(0x1c9)](_0x687be7(0x17d)+_0xb5183f+'..');break;}this[_0x687be7(0x19c)][_0x687be7(0x15f)](_0x687be7(0x152)+(_0x13eeef+0x1)+_0x687be7(0x197)+_0xb5183f+':\x20'+_0x13be4[_0x687be7(0x148)]),this['dashboard']['addChatLog'](_0x38e3f2,_0x687be7(0x190)+_0x13be4[_0x687be7(0x148)]),await pureDelay(0x7d0);}if(_0x13eeef<_0x5bc842-0x1){let _0x48145a=random(0x2d,0x41);_0x477a06[_0x687be7(0x1c9)](_0x687be7(0x17e)),await pureDelay(0x3e8*_0x48145a);}}this['dashboard']['addDebugMessage'](_0x687be7(0x16e)+_0xb5183f+'.');}_0x477a06['updateStatus'](_0x687be7(0x1c2));}}