const _0x325a92=_0x541d;(function(_0x340701,_0x1e25f1){const _0x5b6580=_0x541d,_0x203073=_0x340701();while(!![]){try{const _0x1f7cd0=-parseInt(_0x5b6580(0x1f7))/0x1*(parseInt(_0x5b6580(0x1d7))/0x2)+parseInt(_0x5b6580(0x1e6))/0x3*(parseInt(_0x5b6580(0x1f9))/0x4)+parseInt(_0x5b6580(0x1dc))/0x5+-parseInt(_0x5b6580(0x1e5))/0x6*(-parseInt(_0x5b6580(0x1d5))/0x7)+parseInt(_0x5b6580(0x1db))/0x8*(-parseInt(_0x5b6580(0x1f2))/0x9)+parseInt(_0x5b6580(0x1f0))/0xa+parseInt(_0x5b6580(0x1da))/0xb*(-parseInt(_0x5b6580(0x1ea))/0xc);if(_0x1f7cd0===_0x1e25f1)break;else _0x203073['push'](_0x203073['shift']());}catch(_0x30a428){_0x203073['push'](_0x203073['shift']());}}}(_0x45aa,0x5d5f8));function _0x541d(_0x5039ce,_0x2f43c6){const _0x45aa89=_0x45aa();return _0x541d=function(_0x541d03,_0x585966){_0x541d03=_0x541d03-0x1d5;let _0xe7b469=_0x45aa89[_0x541d03];return _0xe7b469;},_0x541d(_0x5039ce,_0x2f43c6);}import{API_ENDPOINTS as _0x55091b}from'../core/api.js';async function pureDelay(_0x251354){return new Promise(_0x1a100f=>setTimeout(_0x1a100f,_0x251354));}function _0x45aa(){const _0x9e8663=['\x20failed:\x20','191079UiGNsq','api','userAgent','error','stringify','116553CHKnGL','Bearer\x20','20mDhWhW','message','doQuiz','addDebugMessage','175yfiHZp','toISOString','10zeCFzV','updateStatus','[SUCCESS]\x20Successfully\x20fetched\x20quiz\x20questions.','2558743sILPYf','56RpYZKO','417835McEENh','Fetching\x20Quiz..','data','slice','dashboard','GET','[ERROR]\x20GetQuiz\x20failed\x20after\x20all\x20retries.','[ERROR]\x20DoQuiz:\x20','Failed\x20to\x20get\x20quiz\x20questions:\x20','81114PfEwju','439422MudCIJ','daily_quiz_','Checking\x20Daily\x20Quiz','fetch','24oRGQMc','POST','CREATE_QUIZ','quiz_id','Error\x20Doing\x20Quiz','answer','4251520FfGzQR'];_0x45aa=function(){return _0x9e8663;};return _0x45aa();}export class QuizService{constructor(_0x3c5658,_0x558707){const _0x7177ef=_0x541d;this[_0x7177ef(0x1f3)]=_0x3c5658,this['dashboard']=_0x558707;}async[_0x325a92(0x1fb)](_0x3b4b6b,_0x5bde63,_0x1bfcd4,_0x1f1032){const _0x3fba99=_0x325a92;try{if(_0x1f1032[_0x3fba99(0x1d8)](_0x3fba99(0x1e8)),!_0x5bde63||_0x5bde63['daily_quiz_completed'])return this[_0x3fba99(0x1e0)]['addDebugMessage']('[WARN]\x20Daily\x20Quiz\x20already\x20completed\x20or\x20user\x20data\x20missing.\x20Skipping.'),_0x1f1032[_0x3fba99(0x1d8)](_0x5bde63?'Quiz\x20Already\x20Done':'User\x20data\x20needed\x20for\x20quiz'),!0x1;_0x1f1032[_0x3fba99(0x1d8)]('Doing\x20Daily\x20Quiz');let _0x2fad20=new Date()[_0x3fba99(0x1d6)]()[_0x3fba99(0x1df)](0x0,0xa),_0x2bbe0e={'title':_0x3fba99(0x1e7)+_0x2fad20,'num':0x1,'eoa':_0x1bfcd4},_0x2b4028=await this[_0x3fba99(0x1f3)][_0x3fba99(0x1e9)](_0x55091b[_0x3fba99(0x1ec)],_0x3fba99(0x1eb),_0x3fba99(0x1f8)+_0x3b4b6b,_0x2bbe0e,{},void 0x0,_0x1f1032[_0x3fba99(0x1f4)]);if(_0x2b4028[_0x3fba99(0x1f5)]||!_0x2b4028[_0x3fba99(0x1de)]?.['data']?.[_0x3fba99(0x1ed)])throw Error('Failed\x20to\x20create\x20quiz:\x20'+(_0x2b4028[_0x3fba99(0x1fa)]||JSON['stringify'](_0x2b4028[_0x3fba99(0x1de)])));let {quiz_id:_0x194571,user_id:_0x37e266}=_0x2b4028[_0x3fba99(0x1de)][_0x3fba99(0x1de)],_0xe357b2,_0x5bb30e=[0xea60,0x15f90,0x1d4c0];for(let _0x4e239b=0x0;_0x4e239b<_0x5bb30e['length'];_0x4e239b++)try{if(_0x1f1032[_0x3fba99(0x1d8)](_0x3fba99(0x1dd)),(_0xe357b2=await this[_0x3fba99(0x1f3)]['fetch'](_0x55091b['GET_QUIZ'](_0x194571,_0x37e266),_0x3fba99(0x1e1),_0x3fba99(0x1f8)+_0x3b4b6b,{},{},_0x5bb30e[_0x4e239b],_0x1f1032['userAgent']))[_0x3fba99(0x1f5)]||!_0xe357b2[_0x3fba99(0x1de)]?.[_0x3fba99(0x1de)]?.['question'])throw Error(_0x3fba99(0x1e4)+(_0xe357b2[_0x3fba99(0x1fa)]||JSON[_0x3fba99(0x1f6)](_0xe357b2[_0x3fba99(0x1de)])));this[_0x3fba99(0x1e0)][_0x3fba99(0x1fc)](_0x3fba99(0x1d9));break;}catch(_0xa7cc97){if(this['dashboard']['addDebugMessage']('[WARN]\x20GetQuiz\x20attempt\x20'+(_0x4e239b+0x1)+_0x3fba99(0x1f1)+_0xa7cc97[_0x3fba99(0x1fa)]),_0x4e239b<_0x5bb30e['length']-0x1)await pureDelay(0x1388);else throw this[_0x3fba99(0x1e0)][_0x3fba99(0x1fc)](_0x3fba99(0x1e2)),_0xa7cc97;}for(let _0x50f112 of _0xe357b2[_0x3fba99(0x1de)]['data']['question']){_0x1f1032['updateStatus']('Answering\x20Quiz\x20QID:\x20'+_0x50f112['question_id']);let _0x952c6b={'quiz_id':_0x194571,'question_id':_0x50f112['question_id'],'answer':_0x50f112[_0x3fba99(0x1ef)],'finish':!0x0,'eoa':_0x37e266};await this['api'][_0x3fba99(0x1e9)](_0x55091b['SUBMIT_QUIZ_ANSWER'],_0x3fba99(0x1eb),_0x3fba99(0x1f8)+_0x3b4b6b,_0x952c6b,{},void 0x0,_0x1f1032[_0x3fba99(0x1f4)]),await pureDelay(0x3e8);}return this[_0x3fba99(0x1e0)]['addDebugMessage']('[SUCCESS]\x20Daily\x20Quiz\x20Complete.'),_0x1f1032[_0x3fba99(0x1d8)]('Daily\x20Quiz\x20Complete'),!0x0;}catch(_0x5b9484){throw this[_0x3fba99(0x1e0)][_0x3fba99(0x1fc)](_0x3fba99(0x1e3)+_0x5b9484[_0x3fba99(0x1fa)]),_0x1f1032[_0x3fba99(0x1d8)](_0x3fba99(0x1ee)),_0x5b9484;}}}