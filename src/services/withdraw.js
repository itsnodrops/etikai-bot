const _0x2babc7=_0x5650;function _0x5650(_0x12ef06,_0x4b1791){const _0xe90d66=_0xe90d();return _0x5650=function(_0x5650e8,_0x404392){_0x5650e8=_0x5650e8-0x12a;let _0x3ce861=_0xe90d66[_0x5650e8];return _0x3ce861;},_0x5650(_0x12ef06,_0x4b1791);}function _0xe90d(){const _0x1ea683=['message','Bearer\x20','1022864lCcRvE','$KITE\x20Withdrawal\x20Failed','withdrawNativeKite','Could\x20not\x20fetch\x20SA\x20balances\x20for\x20withdrawal.','addDebugMessage','[INFO]\x20No\x20withdrawable\x20USDT\x20balance\x20found.','298604OJovNw','fetch','Withdrawal\x20Failed','data','Withdrawing\x20','830982jHHXnv','profile','2zzKZcF','floor','stringify','\x20USDT','updateStatus','1947967rhPwuZ','25UoHHcg','18kFnqfH','erc20','[INFO]\x20Attempting\x20to\x20withdraw\x20','dashboard','userAgent','\x20USDT.','withdrawAllUsdt','$KITE\x20Withdrawal\x20Success','eoaAddress','api','smart_account_address','error','\x20KITE','[ERROR]\x20$KITE\x20withdrawal\x20failed:\x20','297835tKbiJI','status','\x20KITE.','1445120ydLJes','native','SMART_ACCOUNT_BALANCE','API\x20Error\x20','[SUCCESS]\x20Successfully\x20initiated\x20withdrawal\x20of\x20','WITHDRAW_TOKEN','383943CnPpQH','balances','GET','\x20KITE\x20to\x20EOA\x20for\x20gas...','POST','https://testnet.gokite.ai/'];_0xe90d=function(){return _0x1ea683;};return _0xe90d();}(function(_0x3b1451,_0x5902e7){const _0x390630=_0x5650,_0x25ee9b=_0x3b1451();while(!![]){try{const _0x3e7493=parseInt(_0x390630(0x131))/0x1+parseInt(_0x390630(0x14f))/0x2*(parseInt(_0x390630(0x13a))/0x3)+-parseInt(_0x390630(0x148))/0x4*(-parseInt(_0x390630(0x155))/0x5)+-parseInt(_0x390630(0x14d))/0x6+-parseInt(_0x390630(0x154))/0x7+parseInt(_0x390630(0x142))/0x8+-parseInt(_0x390630(0x156))/0x9*(parseInt(_0x390630(0x134))/0xa);if(_0x3e7493===_0x5902e7)break;else _0x25ee9b['push'](_0x25ee9b['shift']());}catch(_0x2d2ddb){_0x25ee9b['push'](_0x25ee9b['shift']());}}}(_0xe90d,0x35fc7));import{API_ENDPOINTS}from'../core/api.js';async function pureDelay(_0x343b2e){return new Promise(_0x3fe24f=>setTimeout(_0x3fe24f,_0x343b2e));}export class WithdrawService{constructor(_0x9b89bb,_0x4a946e){const _0x1f7c83=_0x5650;this[_0x1f7c83(0x12c)]=_0x9b89bb,this[_0x1f7c83(0x159)]=_0x4a946e;}async[_0x2babc7(0x144)](_0x22ea37,_0x426b9b,_0x5cae39){const _0x2021d4=_0x2babc7;this[_0x2021d4(0x159)][_0x2021d4(0x146)](_0x2021d4(0x158)+_0x426b9b+_0x2021d4(0x13d)),_0x5cae39[_0x2021d4(0x153)](_0x2021d4(0x14c)+_0x426b9b+_0x2021d4(0x12f));try{const _0x9668a9=API_ENDPOINTS[_0x2021d4(0x139)](_0x5cae39[_0x2021d4(0x12b)],_0x426b9b,_0x2021d4(0x135)),_0x1f3d3d=await this[_0x2021d4(0x12c)][_0x2021d4(0x149)](_0x9668a9,_0x2021d4(0x13e),_0x2021d4(0x141)+_0x22ea37,{},{'Referer':_0x2021d4(0x13f)},0x1d4c0,_0x5cae39[_0x2021d4(0x15a)]);if(_0x1f3d3d['error'])throw new Error(_0x2021d4(0x137)+_0x1f3d3d[_0x2021d4(0x132)]+':\x20'+(_0x1f3d3d[_0x2021d4(0x140)]||JSON['stringify'](_0x1f3d3d['data'])));this['dashboard']['addDebugMessage'](_0x2021d4(0x138)+_0x426b9b+_0x2021d4(0x133)),_0x5cae39['updateStatus'](_0x2021d4(0x12a));}catch(_0x770883){this[_0x2021d4(0x159)][_0x2021d4(0x146)](_0x2021d4(0x130)+_0x770883[_0x2021d4(0x140)]),_0x5cae39[_0x2021d4(0x153)](_0x2021d4(0x143));}}async[_0x2babc7(0x15c)](_0x1c5189,_0x17056b,_0x3838a6){const _0x2c01dd=_0x2babc7;this[_0x2c01dd(0x159)][_0x2c01dd(0x146)]('[INFO]\x20Checking\x20for\x20USDT\x20to\x20withdraw...'),_0x3838a6[_0x2c01dd(0x153)]('Checking\x20USDT\x20Withdrawal');if(!_0x17056b?.[_0x2c01dd(0x14e)]?.[_0x2c01dd(0x12d)]){this['dashboard'][_0x2c01dd(0x146)]('[WARN]\x20Smart\x20Account\x20address\x20not\x20found.\x20Skipping\x20withdrawal.');return;}try{const _0x4ba5b8=await this['api'][_0x2c01dd(0x149)](API_ENDPOINTS[_0x2c01dd(0x136)],_0x2c01dd(0x13c),'Bearer\x20'+_0x1c5189,{},{'Referer':_0x2c01dd(0x13f)},0xea60,_0x3838a6['userAgent']);if(_0x4ba5b8[_0x2c01dd(0x12e)]||!_0x4ba5b8[_0x2c01dd(0x14b)]?.[_0x2c01dd(0x14b)]?.['balances'])throw new Error(_0x2c01dd(0x145));const _0x143003=_0x4ba5b8[_0x2c01dd(0x14b)]['data'][_0x2c01dd(0x13b)]['usdt']||0x0,_0x35d833=Math[_0x2c01dd(0x150)](parseFloat(_0x143003));if(_0x35d833<0x1){this[_0x2c01dd(0x159)][_0x2c01dd(0x146)](_0x2c01dd(0x147));return;}this[_0x2c01dd(0x159)]['addDebugMessage'](_0x2c01dd(0x158)+_0x35d833+_0x2c01dd(0x15b)),_0x3838a6[_0x2c01dd(0x153)](_0x2c01dd(0x14c)+_0x35d833+_0x2c01dd(0x152));const _0x20f7d3=API_ENDPOINTS[_0x2c01dd(0x139)](_0x3838a6[_0x2c01dd(0x12b)],_0x35d833,_0x2c01dd(0x157)),_0x140d5f=await this['api']['fetch'](_0x20f7d3,_0x2c01dd(0x13e),_0x2c01dd(0x141)+_0x1c5189,{},{'Referer':'https://testnet.gokite.ai/'},0x1d4c0,_0x3838a6['userAgent']);if(_0x140d5f[_0x2c01dd(0x12e)])throw new Error('API\x20Error\x20'+_0x140d5f[_0x2c01dd(0x132)]+':\x20'+(_0x140d5f['message']||JSON[_0x2c01dd(0x151)](_0x140d5f[_0x2c01dd(0x14b)])));this[_0x2c01dd(0x159)][_0x2c01dd(0x146)](_0x2c01dd(0x138)+_0x35d833+_0x2c01dd(0x15b)),_0x3838a6[_0x2c01dd(0x153)]('Withdrawal\x20Successful');}catch(_0x2b34d3){this[_0x2c01dd(0x159)]['addDebugMessage']('[ERROR]\x20USDT\x20withdrawal\x20failed:\x20'+_0x2b34d3[_0x2c01dd(0x140)]),_0x3838a6['updateStatus'](_0x2c01dd(0x14a));}}}