const _0x3e0d86=_0x4e83;(function(_0x12cae1,_0x62e528){const _0x3f6779=_0x4e83,_0x2ff61c=_0x12cae1();while(!![]){try{const _0x30491a=parseInt(_0x3f6779(0x84))/0x1*(parseInt(_0x3f6779(0x88))/0x2)+-parseInt(_0x3f6779(0x7d))/0x3*(parseInt(_0x3f6779(0x72))/0x4)+parseInt(_0x3f6779(0x77))/0x5*(-parseInt(_0x3f6779(0x7c))/0x6)+parseInt(_0x3f6779(0x8c))/0x7*(parseInt(_0x3f6779(0x9f))/0x8)+-parseInt(_0x3f6779(0x90))/0x9*(-parseInt(_0x3f6779(0x94))/0xa)+-parseInt(_0x3f6779(0x6e))/0xb*(-parseInt(_0x3f6779(0xa1))/0xc)+parseInt(_0x3f6779(0x6f))/0xd*(-parseInt(_0x3f6779(0x71))/0xe);if(_0x30491a===_0x62e528)break;else _0x2ff61c['push'](_0x2ff61c['shift']());}catch(_0x5605a7){_0x2ff61c['push'](_0x2ff61c['shift']());}}}(_0x29cb,0x9760f));import{API_ENDPOINTS}from'../core/api.js';function _0x4e83(_0x411318,_0x2ffc73){const _0x29cb23=_0x29cb();return _0x4e83=function(_0x4e837e,_0x59e217){_0x4e837e=_0x4e837e-0x6b;let _0x476c89=_0x29cb23[_0x4e837e];return _0x476c89;},_0x4e83(_0x411318,_0x2ffc73);}async function pureDelay(_0x3ba3d1){return new Promise(_0x251020=>setTimeout(_0x251020,_0x3ba3d1));}function random(_0xbf0c17,_0x3605ca){const _0x4089d4=_0x4e83;return Math[_0x4089d4(0x9a)](Math['random']()*(_0x3605ca-_0xbf0c17+0x1))+_0xbf0c17;}function _0x29cb(){const _0x1ffbf8=['badges_minted','15213IkmJHb','1469KdTKbD','userAgent','141148NwzBeA','20FMFaRm','user','api','error','collectionId','1475HKPNpP','truncateAddress','name','length','[ERROR]\x20Failed\x20to\x20process\x20badges:\x20','15636yWlxEQ','281949YxxjOd','\x20new\x20eligible\x20badge(s).','message','Badge\x20minting\x20finished','GET','filter','tx_hash','1wRUnMl','\x22.\x20Tx:\x20','Failed\x20to\x20mint\x20','mintEligibleBadges','1772458FVIGSP','map','[INFO]\x20Checking\x20for\x20eligible\x20badges\x20to\x20mint...','\x22:\x20','7610673sDtzai','fetch','updateStatus','[INFO]\x20Attempting\x20to\x20mint\x20badge:\x20\x22','542277JHCeiJ','GET_BADGES','Error\x20checking\x20badges','addDebugMessage','120YbrJJf','[SUCCESS]\x20Successfully\x20minted\x20\x22','profile','[INFO]\x20No\x20new\x20eligible\x20badges\x20to\x20mint.','\x22...','POST','floor','User\x20profile\x20not\x20available\x20to\x20check\x20minted\x20badges.','data','Failed\x20to\x20fetch\x20badge\x20list.','https://testnet.gokite.ai/','8lvIkwj','MINT_BADGE','2616qBfwel','Checking\x20for\x20eligible\x20badges','dashboard'];_0x29cb=function(){return _0x1ffbf8;};return _0x29cb();}export class BadgeService{constructor(_0x229eb0,_0x443e4d){const _0x34ca27=_0x4e83;this[_0x34ca27(0x74)]=_0x229eb0,this[_0x34ca27(0x6c)]=_0x443e4d;}async[_0x3e0d86(0x87)](_0x401858,_0x4056f5){const _0x1189b3=_0x3e0d86;_0x4056f5['updateStatus'](_0x1189b3(0x6b)),this['dashboard'][_0x1189b3(0x93)](_0x1189b3(0x8a));try{const _0x507144=_0x4056f5[_0x1189b3(0x73)]?.[_0x1189b3(0x96)];if(!_0x507144)throw new Error(_0x1189b3(0x9b));const _0x2c5968=new Set((_0x507144[_0x1189b3(0x6d)]||[])[_0x1189b3(0x89)](_0xbf91ea=>_0xbf91ea['id'])),_0x395be1=await this['api']['fetch'](API_ENDPOINTS[_0x1189b3(0x91)],_0x1189b3(0x81),'Bearer\x20'+_0x401858,{},{'Referer':_0x1189b3(0x9e)},undefined,_0x4056f5['userAgent']);if(_0x395be1[_0x1189b3(0x75)]||!_0x395be1[_0x1189b3(0x9c)]?.[_0x1189b3(0x9c)])throw new Error(_0x395be1[_0x1189b3(0x7f)]||_0x1189b3(0x9d));const _0x539f4a=_0x395be1[_0x1189b3(0x9c)][_0x1189b3(0x9c)],_0x435e34=_0x539f4a[_0x1189b3(0x82)](_0x1c4b05=>_0x1c4b05['isEligible']&&!_0x2c5968['has'](_0x1c4b05[_0x1189b3(0x76)]));if(_0x435e34[_0x1189b3(0x7a)]===0x0){this[_0x1189b3(0x6c)][_0x1189b3(0x93)](_0x1189b3(0x97));return;}this[_0x1189b3(0x6c)][_0x1189b3(0x93)]('[INFO]\x20Found\x20'+_0x435e34['length']+_0x1189b3(0x7e));for(const _0x43464b of _0x435e34){_0x4056f5[_0x1189b3(0x8e)]('Minting\x20badge:\x20'+_0x43464b[_0x1189b3(0x79)]),this[_0x1189b3(0x6c)][_0x1189b3(0x93)](_0x1189b3(0x8f)+_0x43464b[_0x1189b3(0x79)]+_0x1189b3(0x98));try{const _0x306569=await this[_0x1189b3(0x74)][_0x1189b3(0x8d)](API_ENDPOINTS[_0x1189b3(0xa0)],_0x1189b3(0x99),'Bearer\x20'+_0x401858,{'badge_id':_0x43464b[_0x1189b3(0x76)]},{'Referer':'https://testnet.gokite.ai/'},undefined,_0x4056f5[_0x1189b3(0x70)]);if(_0x306569[_0x1189b3(0x75)]||!_0x306569[_0x1189b3(0x9c)]?.[_0x1189b3(0x9c)]?.[_0x1189b3(0x83)])throw new Error(_0x306569[_0x1189b3(0x7f)]||_0x1189b3(0x86)+_0x43464b[_0x1189b3(0x79)]);const _0x30f00c=_0x306569[_0x1189b3(0x9c)][_0x1189b3(0x9c)][_0x1189b3(0x83)];this[_0x1189b3(0x6c)][_0x1189b3(0x93)](_0x1189b3(0x95)+_0x43464b[_0x1189b3(0x79)]+_0x1189b3(0x85)+this[_0x1189b3(0x6c)][_0x1189b3(0x78)](_0x30f00c));}catch(_0x589603){this[_0x1189b3(0x6c)][_0x1189b3(0x93)]('[ERROR]\x20Could\x20not\x20mint\x20badge\x20\x22'+_0x43464b[_0x1189b3(0x79)]+_0x1189b3(0x8b)+_0x589603[_0x1189b3(0x7f)]);}const _0x2f97c7=random(0x5,0xf);await pureDelay(_0x2f97c7*0x3e8);}_0x4056f5[_0x1189b3(0x8e)](_0x1189b3(0x80));}catch(_0x241c94){this[_0x1189b3(0x6c)][_0x1189b3(0x93)](_0x1189b3(0x7b)+_0x241c94['message']),_0x4056f5[_0x1189b3(0x8e)](_0x1189b3(0x92));}}}